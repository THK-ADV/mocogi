play.http.secret.key = "changeme"

play.filters {
  disabled += play.filters.csrf.CSRFFilter
  disabled += play.filters.hosts.AllowedHostsFilter
  disabled += play.filters.csp.CSPFilter
  disabled += play.filters.headers.SecurityHeadersFilter
  enabled += play.filters.cors.CORSFilter

  cors {
    allowedOrigins = null
    allowedHttpMethods = null
    allowedHttpHeaders = null
    preflightMaxAge = 1 hour
  }
}

pandoc {
  htmlCmd = "/opt/homebrew/bin/pandoc -f markdown -t html"
  pdfCmd = "/opt/homebrew/bin/pandoc -f markdown -t pdf --pdf-engine=/Library/TeX/texbin/xelatex -V colorlinks=true"
  texCmd = "/opt/homebrew/bin/pandoc --read=markdown --write=latex -r markdown-auto_identifiers"
  outputFolderPath = "output"
  deOutputFolderPath = "output/de"
  enOutputFolderPath = "output/en"
  moduleCatalogOutputFolderPath = "output/catalogs"
  electivesCatalogOutputFolderPath = "output/electives"
}

git {
  token = ${?GIT_WEBHOOK_TOKEN}
  accessToken = ${?GIT_ACCESS_TOKEN}
  host = ${?GIT_HOST}
  baseUrl = ${?GIT_API_ENDPOINT}
  projectId = ${?GIT_PROJECT_ID}
  mainBranch = "main"
  draftBranch = "preview"
  modulesFolder = "modules"
  coreFolder = "core"
  moduleCatalogsFolder = "catalogs"
  autoApprovedLabel = "auto approved"
  reviewRequiredLabel = "review required"
  bigBangLabel = "big bang"
  moduleCatalogLabel = "module catalog"
  defaultEmail = "mocogi@th-koeln.de"
  defaultUser = "mocogi"
}

bigbang.trigger = [
  { semester = "sose", date = "01.03" },
  { semester = "wise", date = "01.09" }
]

play.temporaryFile.dir = "tmp"

play.evolutions {
  db.default.autoApply = true
}

slick.dbs {
  default {
    profile = "slick.jdbc.PostgresProfile$"
    db {
      driver = "org.postgresql.Driver"
      url = "jdbc:postgresql://localhost:5432/mocogi"
      databaseName = "mocogi"
      user = "postgres"
      password = ""
    }
  }
}

kafka {
  serverUrl = ${?KAFKA_HOST}
  applicationId = ${?KAFKA_APP_ID}
}

moduleKeysToReview {
  sgl = ["metadata.title", "metadata.ects", "metadata.moduleManagement"]
  pav = ["metadata.assessmentMethods.mandatory"]
}